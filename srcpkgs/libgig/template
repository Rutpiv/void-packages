# Template file for 'libgig'
pkgname=libgig
version=4.5.2
revision=1
build_style=gnu-configure
hostmakedepends="pkg-config doxygen"
makedepends="libsndfile-devel libuuid-devel"
short_desc="C++ library for GigaSampler, DLS, SoundFont and AKAI formats"
maintainer="Rutpiv <roger_freitas@live.com>"
license="GPL-2.0-only OR LGPL-2.1-or-later"
homepage="https://www.linuxsampler.org/libgig/"
distfiles="https://download.linuxsampler.org/packages/${pkgname}-${version}.tar.bz2"
checksum=ca2be8ce5e0969f90c2df76e03d499f5e27fb5021edbc587de182ff27e8efddd
make_check=no # No tests available.

post_install() {
	make docs
	vmkdir usr/share/doc/${pkgname}
	vcopy doc/html usr/share/doc/${pkgname}
}

libgig-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove "usr/lib/*.a"
		vmove "usr/lib/*.so"
		vmove usr/lib/pkgconfig
	}
}

libgig-doc_package() {
	short_desc+=" - documentation"
	pkg_install() {
		vmove usr/share/doc
	}
}
